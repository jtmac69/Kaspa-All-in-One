# Kaspa All-in-One Configuration

# ============================================================================
# KASPA ALL-IN-ONE CONFIGURATION
# ============================================================================
# 
# This configuration file supports profile-based deployment of the complete
# Kaspa ecosystem. Choose the profiles that match your hardware and needs.
#
# Available profiles:
# - Core Infrastructure: kaspa-node, dashboard, nginx (always active)
# - prod: kasia-app, k-social (user applications)
# - explorer: indexers and shared database (data services)
# - archive: long-term storage and historical analysis
# - development: portainer, pgadmin (development tools)
# - mining: kaspa-stratum (mining operations)
#
# Usage: docker compose --profile prod --profile explorer up -d
#
# ============================================================================
# DEPLOYMENT PROFILES
# ============================================================================

# ============================================================================
# CORE INFRASTRUCTURE
# ============================================================================

# Kaspa Node Configuration
PUBLIC_NODE=true
KASPA_NODE_RPC_PORT=16111
KASPA_NODE_P2P_PORT=16110
LOG_LEVEL=info

# Public Node Settings
ENABLE_PUBLIC_ACCESS=true

# Core Service Ports
DASHBOARD_PORT=8080
HTTP_PORT=80
HTTPS_PORT=443

# ============================================================================
# REMOTE CONNECTIONS (for distributed deployments)
# ============================================================================
# Leave empty to use local services, or specify remote URLs

# Remote Kaspa Node (if running indexers on separate machine)
REMOTE_KASPA_NODE_URL=

# Remote Indexer URLs (if running apps on separate machine)
REMOTE_KASIA_INDEXER_URL=
REMOTE_KSOCIAL_INDEXER_URL=

# ============================================================================
# PRODUCTION PROFILE - User Applications
# ============================================================================

# Mining Configuration
STRATUM_PORT=5555
MINING_ADDRESS=solo

# Application Ports
KASIA_APP_PORT=3001
KSOCIAL_APP_PORT=3003

# Kasia App Configuration
KASPA_NETWORK=mainnet
KASIA_DISABLE_PASSWORD_REQUIREMENTS=false
KASIA_LOG_LEVEL=info
KASIA_VERSION=master

# ============================================================================
# EXPLORER PROFILE - Indexing Services
# ============================================================================

# TimescaleDB Configuration
POSTGRES_DB=kaspa_indexers
POSTGRES_USER=indexer
POSTGRES_PASSWORD=secure_indexer_password
POSTGRES_PORT=5432

# TimescaleDB Settings
TIMESCALEDB_TELEMETRY=off  # Disable telemetry for privacy

# Indexer Ports
KASIA_INDEXER_PORT=3002
KSOCIAL_INDEXER_PORT=3004
SIMPLY_INDEXER_PORT=3005

# Kasia Indexer Configuration
KASPA_NODE_WBORSH_URL=ws://kaspa-node:17110
KASIA_RUST_LOG=info
NETWORK_TYPE=mainnet

# Simply Kaspa Indexer Configuration
SIMPLY_INDEXER_MODE=full  # Options: full, light, archive

# ============================================================================
# ARCHIVE PROFILE - Long-term Data Storage
# ============================================================================

# Archive Database Configuration
ARCHIVE_POSTGRES_DB=kaspa_archive
ARCHIVE_POSTGRES_USER=archiver
ARCHIVE_POSTGRES_PASSWORD=secure_archive_password
ARCHIVE_POSTGRES_PORT=5433

# Archive Indexer Configuration
ARCHIVE_INDEXER_PORT=3006
ARCHIVE_RETENTION_DAYS=0  # 0 = keep forever

# ============================================================================
# DEVELOPMENT PROFILE - Development Tools
# ============================================================================

# Development Tool Ports
PORTAINER_PORT=9000
PGADMIN_PORT=9001

# pgAdmin Configuration
PGADMIN_EMAIL=admin@kaspa-aio.local
PGADMIN_PASSWORD=admin

# ============================================================================
# SSL/TLS Configuration (optional)
# ============================================================================

ENABLE_SSL=false
SSL_CERT_PATH=./config/ssl/cert.pem
SSL_KEY_PATH=./config/ssl/key.pem

# ============================================================================
# ADVANCED CONFIGURATION
# ============================================================================

# Container Resource Limits (optional)
KASPA_NODE_MEMORY_LIMIT=4g
INDEXER_MEMORY_LIMIT=2g
APP_MEMORY_LIMIT=1g

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30